# 一、共用体（联合体）

与结构体的共同之处：
1. 先设计后使用
   
   ```c
   union 共用名
   {
   		成员1的类型  成员1的名字;	
   		成员2的类型  成员2的名字;
   		。。。
   		成员n的类型  成员n的名字;
   };
   ```
   
   
   
2. 设计语句为非执行语句

3. 新的类型名：union 共用名

4. 直接成员访问运算符：  .
     共用体类型的变量名.成员名
     
5. 间接成员访问运算符：  ->
     共用体类型的地址值->成员名
     
6. 变量定义语句、指针定义语句、数组定义语句
   union 共用名  变量名;
   union 共用名  *指针名;
   union 共用名  数组名[M];

不一样:
1. 关键字不一样
2. sizeof
   结构体 >= 所有成员的sizeof之和
   共用体 是所有成员中sizeof最大的成员的sizeof
   
   union U
   {
   		char ch;
   		short sh;
   		double d;
   };
   sizeof(union U) ====> sizeof(double) ====> 8
3. 共用体：所有成员共用同一块内存空间
   结构体：每个成员都有独自的内存空间
4. 共用体此空间中二进制位作用由访问哪个成员来决定  即访问成员时才确定空间中存放的元素类型
   结构体每个成员的空间都有独自的二进制位作用
5. 共用体这种类型都需要和另一个数据配合使用
   结构体完全可以独自担当大任

int t;//t 1 ch,2 sh,3 d
union U un = {3.4};
变量定义语句的作用：

1. 给共用体类型的变量分配空间（sizeof(union 共用名)个字节）
2. 给空间命名为共用体类型变量名
3. 决定空间二进制位的作用（根据访问哪个成员来决定）

只能初始化第一个成员，初始化类似结构体

支持的运算：
1. sizeof
2. &
3. 赋值
   union U un1 = {'a'};
   union U un2 = {'\0'};
   
   un2 = un1;//ok, 实际是将un1空间所有字节copy到un2的空间里
4. .   ->
5. 各成员的运算等同于同类型变量的运算


作为函数的形参类型
1. 语法OK
2. 但如果sizeof比较大时，传参效率太差，可以用对应的指针类型替换
3. 一般会有另一个形参配合，让函数可以知道用哪个成员

作为函数的返回值类型
1. 语法OK
2. 但如果sizeof比较大时，处理函数返回时效率太差，可以用对应的指针类型替换
3. 一般会有另一个指针类型的结果形参配合，让调用处可以知道函数返回后该用哪个成员

# 二、枚举------ 基本类型


取值范围可以自己指定的整型

用枚举设计语句来指定取值范围：

```c
enum 枚举名
{
	枚举常量名1,
	枚举常量名2,
	...
	枚举常量名n
};
```



1. 新的整型名叫做：enum 枚举名
2. 枚举名和其内的枚举常量名都要符合标识符的命名规则
   项目中枚举常量名一般都是用大写字母
3. 默认第一个枚举常量名代表整型常量0，
   后续的枚举常量名代表的整型常量 为 前一个枚举常量名对应数值+1
   也可以在枚举常量名后通过 = 符号 指定一个整型常量
4. 枚举在C语言中类型检查上是非常不严格的
   因此一般不用enum 枚举名定义变量，
   而是为了使用枚举常量名代表对应的整型常量
5. sizeof(enum Week)   大小不同     编译器计算方法不一样

enum Week
{
	SUN,
	MON,
	TUE,
	WED,
	THU,
	FRI,
	SAT
};
   enum Week w;
   w = THU;
   w = 6;
   w = 100;

#define	SUN 0
#define	MON 1
#define	TUE 2
#define	WED 3
#define	THU 4
#define	FRI 5
#define	SAT 6





# 三、gdb

程序编译时一定加-g 

ubuntu$ gdb  ./可执行文件名

gdb>

r（run）命令  r   [程序参数argv[1]]

b（break）命令： b  .c文件名:行号    b 函数名

p（print）命令： p  变量名

l（list）命令：罗列源码

n(next)命令：执行下一条语句 （遇到函数调用时，不进函数体）

s（step）命令：单步执行（遇到函数调用时，进函数体）

c(continue)命令：执行到下一个断点或程序结束

q（quit）命令：退出gdb

bt（backtrace）命令：打印函数调用层次



